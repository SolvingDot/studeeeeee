#### 코드 계약에서 중요한 것

- 예측 가능한 코드를 작성하라
- 코드를 오용하기 어렵게 만들라

#### 고려할 것

- 나에게 명백하다고 해서 다른 사람에게도 명백한 것은 아니다
- 다른 개발자는 무의식중에 나의 코드를 망가뜨릴 수 있다
- 시간이 지남에 따라 내 코드를 나도 기억하지 못한다

#### 세부조항에 너무 의존하지 말라

- 세부조항이 지나치게 많은 코드는 안좋다!
- 개발자가 주석문을 많이 읽게 하는 것은 안좋음 (읽기 싫잖아)

- 세부사항에 의존하기보다 잘못된 일을 하는 것을 처음부터 불가능하게 만드는 것이 좋다

##### 1. 정적 팩토리 함수 사용

- 생성자 프라이빗
- 정적 팩토리 함수에서 설정값 로딩, 초기화 작업 처리

#### 2. 체크 및 어서션 사용 (런타임 검사)

- 컴파일 타임 확인만큼 강력하지는 않음
- 체크 방법: StateException을 사용해 맞춤형 전제조건 검사 구현
- 퍼즈 테스트: 버그를 드러낼 수 있는 입력값 생성해서 태스트 수행

- 어서션: 코드 계약을 준수하도록 강제함
- assert(hasBeenInitialized, "초기화되지 않음")

### 결론

- 어지간해서는 컴파일이 안되게 막아놓자
- 코드 계약은 좋지만 서로 잘 읽지 않으니 코드 차원에서 막자
